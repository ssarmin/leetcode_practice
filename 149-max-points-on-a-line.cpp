//https://leetcode.com/problems/max-points-on-a-line
class Solution {
public:
    int maxPoints(vector<vector<int>>& points) {
        int max_val = 1;
        for(int i=0; i<points.size(); i++){
            unordered_map<double, int> m;
            int inf = 1;
            for(int j=i+1; j<points.size(); j++){
                int dx = points[i][0] - points[j][0];
                int dy = points[i][1] - points[j][1];
                if(dx == 0){
                    inf++;
                    max_val = max(max_val, inf);
                }else{
                    double val = (double)dy/(double)dx;
                    if(m.count(val)){
                        m[val]++;
                    }else{
                        m[val] = 2;
                    }
                    max_val = max(max_val, m[val]);
                }
            }
        }
        return max_val;
    }
};
/*
[[0,0],[1,1]]
[[0,0]]
[[0,0],[1072,3645],[1073,3647]]
[[0,0],[1151,1150],[1152,1151]]
[[1,1],[2,3]]
[[1,1],[4,9],[2,2],[7,8],[3,3]]
[[1,1],[3,2],[5,3],[4,1],[2,3],[1,4]]
[[1,0],[0,0]]
[[2,3],[3,3],[-5,3]]
[[0,0],[4,5],[7,8],[8,9],[5,6],[3,4],[1,1]]
[[1,1], [2,2], [3,3], [1,2], [2,3], [3,4]]
*/

// need to modify the testcase
//  [(560,248),(0,16),(30,250),(950,187),(630,277),(950,187),(-212,-268),(-287,-222),(53,37),(-280,-100),(-1,-14),(-5,4),(-35,-387),(-95,11),(-70,-13),(-700,-274),(-95,11),(-2,-33),(3,62),(-4,-47),(106,98),(-7,-65),(-8,-71),(-8,-147),(5,5),(-5,-90),(-420,-158),(-420,-158),(-350,-129),(-475,-53),(-4,-47),(-380,-37),(0,-24),(35,299),(-8,-71),(-2,-6),(8,25),(6,13),(-106,-146),(53,37),(-7,-128),(-5,-1),(-318,-390),(-15,-191),(-665,-85),(318,342),(7,138),(-570,-69),(-9,-4),(0,-9),(1,-7),(-51,23),(4,1),(-7,5),(-280,-100),(700,306),(0,-23),(-7,-4),(-246,-184),(350,161),(-424,-512),(35,299),(0,-24),(-140,-42),(-760,-101),(-9,-9),(140,74),(-285,-21),(-350,-129),(-6,9),(-630,-245),(700,306),(1,-17),(0,16),(-70,-13),(1,24),(-328,-260),(-34,26),(7,-5),(-371,-451),(-570,-69),(0,27),(-7,-65),(-9,-166),(-475,-53),(-68,20),(210,103),(700,306),(7,-6),(-3,-52),(-106,-146),(560,248),(10,6),(6,119),(0,2),(-41,6),(7,19),(30,250)][[0,0]]
// [[84,250),(0,0),(1,0),(0,-70),(0,-70),(1,-1),(21,10),(42,90),(-42,-230)]
