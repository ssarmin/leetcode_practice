//https://leetcode.com/problems/minimum-area-rectangle
class Solution {
public:
    int minAreaRect(vector<vector<int>>& points) {
        unordered_map<int, vector<int>> m_row;
        unordered_map<int, unordered_set<int>> m_col;
        for(int i=0; i<points.size(); i++){
            m_row[points[i][0]].push_back(points[i][1]);
            m_col[points[i][1]].insert(points[i][0]);
        }

        int min_area = INT_MAX;
        for(auto r: m_row){
            int x1 = r.first;
            vector<int> y_s = r.second;
            for(int j=0; j<r.second.size(); j++){
                int y1 = r.second[j]; 
                unordered_set<int> s_x_y1 = m_col[y1];
                for(int i=j+1; i<r.second.size(); i++){
                    int y2 = r.second[i];
                    unordered_set<int> s_x_y2 = m_col[y2];
                    for(auto x: s_x_y1){
                        if(x == x1)continue;
                        if(s_x_y2.count(x)){
                            int area = abs(x1 - x) * abs(y1 - y2);
                            min_area = min(area, min_area);
                        }
                    }
                }
            }
        }
        return min_area == INT_MAX? 0: min_area;
    }
};
/*
[[29092,17511],[14350,23845],[14350,33284],[29092,25796],[14350,24920],[29092,22094],[14350,14444],[14350,6175],[29092,38643],[29092,21640],[29092,8978],[29092,18863],[14350,19631],[14350,35332],[29092,5151],[29092,35782],[14350,16019],[14350,31602],[14350,474],[14350,19013],[29092,4634],[14350,22094],[29092,1441],[14350,28057],[29092,7872],[14350,27594],[14350,1648],[29092,13160],[29092,38192],[29092,15596],[14350,32739],[14350,14813],[29092,9789],[29092,39772],[29092,24210],[14350,34137],[14350,28326],[29092,17858],[14350,35991],[29092,5451],[14350,8566],[29092,14813],[14350,15388],[29092,1648],[14350,1659],[14350,6316],[14350,36800],[29092,25155],[29092,12400],[29092,19868],[14350,5767],[29092,35675],[14350,27322],[29092,16279],[29092,17631],[29092,36800],[14350,31063],[14350,24683],[14350,25125],[29092,34865],[29092,7214],[29092,12908],[29092,34873],[14350,13599],[29092,5767],[14350,3276],[14350,18863],[29092,18838],[14350,1273],[14350,31421],[14350,5419],[14350,9668],[29092,8708],[29092,5292],[29092,30073],[29092,11036],[29092,36847],[29092,34830],[29092,37731],[29092,21890],[29092,22548],[29092,23151],[29092,25125],[14350,9465],[29092,13454],[29092,15002],[14350,5018],[14350,36352],[29092,31668],[14350,12054],[29092,6973],[29092,20851],[14350,30263],[29092,47],[14350,21531],[14350,27386],[14350,4911],[29092,12054],[14350,34830],[14350,25155],[29092,14782],[14350,22527],[29092,33037],[14350,21932],[29092,9460],[29092,14535],[14350,38564],[29092,37361],[29092,38798],[29092,38910],[14350,23072],[14350,484],[14350,34563],[14350,34274],[14350,19197],[14350,12908],[29092,31734],[14350,7214],[14350,3511],[14350,25238],[29092,24394],[29092,1574],[14350,39166],[29092,25238],[29092,2552],[14350,11715],[29092,17474],[29092,32574],[29092,33959],[29092,7548],[29092,3537],[14350,27610],[29092,30872],[14350,1993],[14350,13308],[29092,15388],[29092,14280],[29092,38564],[14350,7820],[29092,14444],[14350,35459],[14350,9460],[14350,10870],[29092,20412],[29092,39430],[29092,31080],[29092,68],[14350,17511],[14350,15291],[29092,8566],[29092,34563],[14350,31080],[29092,7776],[29092,37578],[29092,16519],[29092,18409],[14350,9272],[29092,21531],[14350,30081],[14350,47],[29092,12310],[29092,38563],[29092,25127],[14350,9471],[14350,38192],[14350,33299],[29092,15567],[29092,9272],[14350,5016],[29092,26691],[14350,38563],[14350,36847],[29092,8573],[14350,7548],[14350,32574],[14350,20851],[14350,16519],[14350,27437],[29092,36469],[29092,1273],[29092,16382],[14350,24394],[14350,4543],[29092,36435],[29092,31602],[14350,32743],[14350,4634],[29092,35459],[14350,37731],[14350,38356],[29092,39869],[29092,38407],[14350,8978],[29092,9251],[29092,38356],[14350,34873],[14350,13454],[29092,1745],[14350,17452],[29092,35863],[29092,310],[14350,21762],[29092,29662],[29092,24683],[14350,21983],[14350,22425],[14350,10759],[29092,27437],[14350,8573],[14350,34396],[14350,37578],[14350,11632],[14350,10149],[29092,1659],[29092,31063],[14350,12239],[29092,630],[14350,16605],[29092,28326],[14350,24210],[14350,14535],[29092,7820],[14350,8718],[14350,9789],[29092,16605],[14350,11036],[29092,34300],[14350,33959],[29092,31825],[14350,30872],[14350,32684],[14350,7872],[14350,19518],[29092,16676],[14350,25190],[29092,39166],[14350,5430],[29092,10149],[29092,7706],[14350,2147],[14350,12845],[29092,33284],[14350,5151],[14350,36196],[29092,36913],[29092,17389],[29092,6175],[14350,31734],[14350,25796],[29092,32684],[29092,34274],[29092,11040],[14350,9099],[14350,34300],[14350,31504],[29092,33956],[29092,27386],[14350,12020],[14350,39772],[29092,32743],[14350,25200],[29092,23845],[14350,38407],[29092,28228],[14350,13927],[14350,33037],[14350,15002],[14350,15567],[29092,9471],[14350,28866],[14350,13160],[29092,8107],[14350,13846],[14350,1265],[14350,32671],[14350,12516],[29092,4911],[29092,484],[14350,22072],[29092,13846],[14350,31668],[29092,32671],[14350,6973],[14350,8107],[14350,29662],[14350,28228],[14350,25330],[29092,25200],[29092,16397],[14350,5292],[29092,35991],[14350,21890],[29092,30081],[14350,5755],[14350,5776],[29092,261],[29092,27759],[29092,20023],[29092,3276],[29092,9046],[14350,11490],[29092,9099],[14350,30073],[29092,9668],[29092,24920],[29092,5419],[14350,18838],[14350,38910],[14350,8243],[14350,17389],[29092,27322],[29092,13599],[29092,3646],[14350,3537],[29092,16019],[29092,34158],[29092,6316],[29092,5755],[29092,11715],[29092,5016],[14350,5268],[14350,3842],[14350,10615],[14350,18064],[29092,19197],[29092,25190],[29092,8243],[14350,38643],[14350,1828],[29092,8336],[14350,35675],[29092,3511],[14350,19055],[29092,7775],[14350,30984],[29092,10870],[29092,1265],[29092,27460],[14350,1745],[14350,15596],[14350,14563],[14350,17858],[14350,20023],[29092,6496],[14350,5451],[14350,20412],[14350,37361],[29092,30263],[29092,34137],[14350,6496],[14350,14280],[14350,630],[14350,18257],[29092,13308],[14350,27460],[29092,12239],[29092,27610],[29092,9465],[14350,19310],[29092,12845],[14350,8708],[14350,3646],[29092,1828],[14350,2552],[14350,35373],[14350,12609],[29092,22425],[29092,3842],[29092,21983],[14350,21640],[29092,13927],[14350,19184],[29092,29848],[14350,36696],[14350,35782],[14350,13371],[29092,31421],[14350,38798],[14350,39869],[14350,34865],[29092,13371],[29092,19184],[29092,21932],[29092,3224],[29092,4543],[29092,39646],[14350,9046],[14350,36913],[14350,17631],[14350,14782],[14350,16279],[29092,35373],[14350,15553],[29092,2147],[29092,22072],[29092,5018],[29092,12609],[14350,12310],[29092,3786],[14350,7776],[14350,17844],[14350,18409],[29092,2273],[14350,31825],[14350,68],[29092,18257],[29092,15291],[14350,39430],[14350,2273],[29092,15860],[14350,7775],[14350,8336],[29092,19055],[14350,16382],[29092,21646],[29092,31504],[29092,19013],[14350,11040],[29092,32739],[29092,5268],[29092,1993],[14350,18747],[14350,1441],[14350,7706],[29092,36696],[29092,33698],[14350,17474],[29092,15553],[29092,29152],[29092,10759],[29092,31081],[29092,19631],[29092,36196],[14350,1574],[14350,12400],[29092,10615],[14350,29152],[14350,21646],[14350,31081],[14350,33698],[14350,35863],[29092,19518],[14350,19868],[14350,3224],[29092,19310],[29092,18747],[29092,5430],[14350,9251],[29092,11490],[29092,3591],[29092,23072],[14350,16676],[29092,18064],[14350,3591],[29092,8718],[29092,5776],[14350,27759],[14350,15860],[14350,3786],[14350,36435],[29092,25330],[14350,16397],[14350,36469],[29092,22527],[29092,17844],[29092,27594],[29092,4487],[29092,34396],[14350,261],[29092,30984],[29092,12516],[14350,23151],[29092,24483],[14350,26691],[29092,28866],[29092,38369],[29092,36352],[29092,35332],[29092,33299],[14350,39646],[14350,25127],[14350,29848],[29092,11632],[29092,474],[14350,38369],[29092,17452],[14350,34158],[14350,24483],[14350,22548],[29092,12020],[14350,33956],[14350,4487],[29092,28057],[29092,14563],[29092,21762],[14350,310]]
[[0,1],[0,0],[3,3],[2,1],[1,1],[3,5],[0,5],[4,2],[0,3],[5,3],[3,4],[2,4],[5,5]]
[[39973,30270],[13301,37647],[13854,37647],[13301,1045],[13854,1045],[11401,37647],[13854,10339],[11401,1045],[11401,10339],[13301,30270],[39973,37647],[11401,30270],[39973,1045],[39973,10339]]
[[1,2],[1,3],[3,3],[4,4],[2,1],[1,4],[2,2],[1,0],[0,2]]
[[1,3],[2,1],[2,0],[4,3],[0,4],[4,2],[1,0],[3,4],[2,4],[4,0]]
[[0,0],[2,1],[2,4],[2,3],[1,4],[3,4],[1,1],[4,0]]
[[0,1],[1,3],[3,3],[4,4],[1,4],[2,3],[1,0],[3,4]]
*/
